import type { Metadata } from "next";
import { PropsWithChildren } from "react";
import "@/styles/globals.css";
import "bootstrap/dist/css/bootstrap.css";
import "@/styles/custom-bootstrap.css";
import { ClientToaster } from "./client-toaster";
import { getCurrentUser } from "@/lib/api/users-api";
import Header from "@/components/Header";

export const metadata: Metadata = {
	title: "Create Next App",
	description: "Generated by create next app",
};

export default async function RootLayout({ children }: PropsWithChildren) {
	const { data } = await getCurrentUser();

	return (
		<html lang="en">
			<body>
				<Header currentUser={data?.currentUser || null} />
				{children}
				<ClientToaster />
			</body>
		</html>
	);
}
